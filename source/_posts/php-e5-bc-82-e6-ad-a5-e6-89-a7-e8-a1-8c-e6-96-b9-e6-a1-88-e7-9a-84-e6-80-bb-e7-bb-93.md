---
title: PHP异步执行方案的总结
id: 65
categories:
  - php
date: 2015-06-06 18:48:58
tags:
---

比如有时候需要发送个邮件，又不想阻塞页面时间太长，这个时候就需要以下的一些异步方法：

### fsockopen等

打开另一个专门发送邮件的网页，不去管响应结果．

不过建立HTTP连接，发送请求的时间仍然会阻塞，内网页面还好说

### exec('nohup ... &amp;') 等

借助nohup多进程命令，在新进程里打开另一个本地可执行文件．

这样需要派生两个进程，效率不高．

### pcntl多进程扩展

和上面差不多，好的一点在于只需要派生一个进程，而且发送邮件的代码可以写在一起，不用新创建一个文件．

### pthreads多线程扩展

这个是最好的选择，既不用耗费派生进程时的系统资源，又方便控制．可以应付更复杂的情况，比如交叉执行